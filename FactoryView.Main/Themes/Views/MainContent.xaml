<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:views="clr-namespace:FactoryView.Main.UI.Views"
                    xmlns:units="clr-namespace:FactoryView.Support.UI.Units;assembly=FactoryView.Support"
                    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks">

    <!-- Dashboard Template -->
    <DataTemplate x:Key="DashboardTemplate">
        <Grid Background="#F5F5F5">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="Dashboard"
                           FontSize="32"
                           FontWeight="Bold"
                           Foreground="#1F303A"
                           HorizontalAlignment="Center"/>
                <TextBlock Text="Welcome to FactoryView"
                           FontSize="14"
                           Foreground="#666666"
                           Margin="0,10,0,0"
                           HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </DataTemplate>

    <!-- MaterialPurchaseOrderView Template -->
    <DataTemplate x:Key="MaterialPurchaseOrderViewTemplate">
        <views:MaterialPurchaseOrderView/>
    </DataTemplate>

    <!-- MasterProduct Template -->
    <DataTemplate x:Key="MasterProductTemplate">
        <views:MasterProduct/>
    </DataTemplate>

    <!-- SystemMenu Template -->
    <DataTemplate x:Key="SystemMenuTemplate">
        <views:SystemMenu/>
    </DataTemplate>

    <!-- LabelInfo Template -->
    <DataTemplate x:Key="LabelInfoTemplate">
        <views:LabelInfo/>
    </DataTemplate>

    <!-- Default Form Template -->
    <DataTemplate x:Key="DefaultFormTemplate">
        <Grid Background="#F5F5F5">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="{Binding Header}"
                           FontSize="32"
                           FontWeight="Bold"
                           Foreground="#1F303A"
                           HorizontalAlignment="Center"/>
                <TextBlock Text="{Binding FormName, StringFormat='Form: {0}'}"
                           FontSize="14"
                           Foreground="#666666"
                           Margin="0,10,0,0"
                           HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </DataTemplate>

    <Style TargetType="{x:Type views:MainContents}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type views:MainContents}">
                    <Border Background="#F0F0F0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <units:FvTabControl Grid.Row="0"
                                                ItemsSource="{Binding Tabs}"
                                                SelectedItem="{Binding SelectedTab}"
                                                CloseTabCommand="{Binding CloseTabCommand}">
                                <units:FvTabControl.ContentTemplate>
                                    <DataTemplate>
                                        <Grid Background="#F5F5F5">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                            <!-- 공통 타이틀 영역 -->
                                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="5,5,0,5">
                                                <iconPacks:PackIconMaterial Kind="StarOutline"
                                                                            Width="18" Height="18"
                                                                            Foreground="#FFD700"
                                                                            VerticalAlignment="Center"
                                                                            Margin="0,0,8,0"
                                                                            Cursor="Hand"/>
                                                <TextBlock Text="{Binding Header}"
                                                           FontSize="16"
                                                           FontWeight="SemiBold"
                                                           Foreground="#333333"
                                                           VerticalAlignment="Center"/>
                                            </StackPanel>

                                            <!-- 폼 컨텐츠 -->
                                            <ContentControl x:Name="formContent"
                                                            Grid.Row="1"
                                                            Content="{Binding}"
                                                            ContentTemplate="{StaticResource DefaultFormTemplate}"/>
                                        </Grid>
                                        <DataTemplate.Triggers>
                                            <!-- Dashboard -->
                                            <DataTrigger Binding="{Binding FormName}" Value="Dashboard">
                                                <Setter TargetName="formContent" Property="ContentTemplate"
                                                        Value="{StaticResource DashboardTemplate}"/>
                                            </DataTrigger>
                                            <!-- MaterialPurchaseOrderView -->
                                            <DataTrigger Binding="{Binding FormName}" Value="MaterialPurchaseOrderView">
                                                <Setter TargetName="formContent" Property="ContentTemplate"
                                                        Value="{StaticResource MaterialPurchaseOrderViewTemplate}"/>
                                            </DataTrigger>
                                            <!-- MasterProduct -->
                                            <DataTrigger Binding="{Binding FormName}" Value="MasterProduct">
                                                <Setter TargetName="formContent" Property="ContentTemplate"
                                                        Value="{StaticResource MasterProductTemplate}"/>
                                            </DataTrigger>
                                            <!-- SystemMenu -->
                                            <DataTrigger Binding="{Binding FormName}" Value="SystemMenu">
                                                <Setter TargetName="formContent" Property="ContentTemplate"
                                                        Value="{StaticResource SystemMenuTemplate}"/>
                                            </DataTrigger>
                                            <!-- LabelInfo -->
                                            <DataTrigger Binding="{Binding FormName}" Value="LabelInfo">
                                                <Setter TargetName="formContent" Property="ContentTemplate"
                                                        Value="{StaticResource LabelInfoTemplate}"/>
                                            </DataTrigger>
                                        </DataTemplate.Triggers>
                                    </DataTemplate>
                                </units:FvTabControl.ContentTemplate>
                            </units:FvTabControl>

                            <Border Grid.Row="1" Background="#E0E0E0" Height="30">
                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="5,0">
                                    <TextBlock Text="Tabs: " Foreground="#666666" VerticalAlignment="Center"/>
                                    <TextBlock Text="{Binding Tabs.Count}" Foreground="#666666" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
